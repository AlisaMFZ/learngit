{"version":3,"sources":["custom.js"],"names":[],"mappings":"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","file":"custom-compiled.js","sourcesContent":["'use strict';\nmodule.exports = function generate_custom(it, $keyword) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $isData = it.opts.v5 && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $rule = this,\n    $definition = 'definition' + $lvl,\n    $rDef = $rule.definition,\n    $validate = $rDef.validate,\n    $compile, $inline, $macro, $ruleValidate, $validateCode;\n  if ($isData && $rDef.$data) {\n    $validateCode = 'keywordValidate' + $lvl;\n    var $validateSchema = $rDef.validateSchema;\n    out += ' var ' + ($definition) + ' = RULES.custom[\\'' + ($keyword) + '\\'].definition; var ' + ($validateCode) + ' = ' + ($definition) + '.validate;';\n  } else {\n    $ruleValidate = it.useCustomRule($rule, $schema, it.schema, it);\n    $schemaValue = 'validate.schema' + $schemaPath;\n    $validateCode = $ruleValidate.code;\n    $compile = $rDef.compile;\n    $inline = $rDef.inline;\n    $macro = $rDef.macro;\n  }\n  var $ruleErrs = $validateCode + '.errors',\n    $i = 'i' + $lvl,\n    $ruleErr = 'ruleErr' + $lvl,\n    $asyncKeyword = $rDef.async;\n  if ($asyncKeyword && !it.async) throw new Error('async keyword in sync schema');\n  if (!($inline || $macro)) {\n    out += '' + ($ruleErrs) + ' = null;';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($validateSchema) {\n    out += ' ' + ($valid) + ' = ' + ($definition) + '.validateSchema(' + ($schemaValue) + '); if (' + ($valid) + ') {';\n  }\n  if ($inline) {\n    if ($rDef.statements) {\n      out += ' ' + ($ruleValidate.validate) + ' ';\n    } else {\n      out += ' ' + ($valid) + ' = ' + ($ruleValidate.validate) + '; ';\n    }\n  } else if ($macro) {\n    var $it = it.util.copy(it);\n    $it.level++;\n    var $nextValid = 'valid' + $it.level;\n    $it.schema = $ruleValidate.validate;\n    $it.schemaPath = '';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it).replace(/validate\\.schema/g, $validateCode);\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($code);\n  } else {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    out += '  ' + ($validateCode) + '.call( ';\n    if (it.opts.passContext) {\n      out += 'this';\n    } else {\n      out += 'self';\n    }\n    if ($compile || $rDef.schema === false) {\n      out += ' , ' + ($data) + ' ';\n    } else {\n      out += ' , ' + ($schemaValue) + ' , ' + ($data) + ' , validate.schema' + (it.schemaPath) + ' ';\n    }\n    out += ' , (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ' , rootData )  ';\n    var def_callRuleValidate = out;\n    out = $$outStack.pop();\n    if ($rDef.errors === false) {\n      out += ' ' + ($valid) + ' = ';\n      if ($asyncKeyword) {\n        out += '' + (it.yieldAwait);\n      }\n      out += '' + (def_callRuleValidate) + '; ';\n    } else {\n      if ($asyncKeyword) {\n        $ruleErrs = 'customErrors' + $lvl;\n        out += ' var ' + ($ruleErrs) + ' = null; try { ' + ($valid) + ' = ' + (it.yieldAwait) + (def_callRuleValidate) + '; } catch (e) { ' + ($valid) + ' = false; if (e instanceof ValidationError) ' + ($ruleErrs) + ' = e.errors; else throw e; } ';\n      } else {\n        out += ' ' + ($ruleErrs) + ' = null; ' + ($valid) + ' = ' + (def_callRuleValidate) + '; ';\n      }\n    }\n  }\n  if ($rDef.modifying) {\n    out += ' ' + ($data) + ' = ' + ($parentData) + '[' + ($parentDataProperty) + '];';\n  }\n  if ($validateSchema) {\n    out += ' }';\n  }\n  if ($rDef.valid) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  } else {\n    out += ' if ( ';\n    if ($rDef.valid === undefined) {\n      out += ' !';\n      if ($macro) {\n        out += '' + ($nextValid);\n      } else {\n        out += '' + ($valid);\n      }\n    } else {\n      out += ' ' + (!$rDef.valid) + ' ';\n    }\n    out += ') { ';\n    $errorKeyword = $rule.keyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    var def_customError = out;\n    out = $$outStack.pop();\n    if ($inline) {\n      if ($rDef.errors) {\n        if ($rDef.errors != 'full') {\n          out += '  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } ';\n        }\n      } else {\n        if ($rDef.errors === false) {\n          out += ' ' + (def_customError) + ' ';\n        } else {\n          out += ' if (' + ($errs) + ' == errors) { ' + (def_customError) + ' } else {  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } } ';\n        }\n      }\n    } else if ($macro) {\n      out += '   var err =   '; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError(vErrors); ';\n        } else {\n          out += ' validate.errors = vErrors; return false; ';\n        }\n      }\n    } else {\n      if ($rDef.errors === false) {\n        out += ' ' + (def_customError) + ' ';\n      } else {\n        out += ' if (Array.isArray(' + ($ruleErrs) + ')) { if (vErrors === null) vErrors = ' + ($ruleErrs) + '; else vErrors = vErrors.concat(' + ($ruleErrs) + '); errors = vErrors.length;  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + ';  ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\";  ';\n        if (it.opts.verbose) {\n          out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n        }\n        out += ' } } else { ' + (def_customError) + ' } ';\n      }\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  }\n  return out;\n}\n"]}