{"version":3,"sources":["required.js"],"names":[],"mappings":"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","file":"required-compiled.js","sourcesContent":["'use strict';\nmodule.exports = function generate_required(it, $keyword) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.v5 && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    if ($schema.length < it.opts.loopRequired && it.schema.properties && Object.keys(it.schema.properties).length) {\n      var $required = [];\n      var arr1 = $schema;\n      if (arr1) {\n        var $property, i1 = -1,\n          l1 = arr1.length - 1;\n        while (i1 < l1) {\n          $property = arr1[i1 += 1];\n          var $propertySch = it.schema.properties[$property];\n          if (!($propertySch && it.util.schemaHasRules($propertySch, it.RULES.all))) {\n            $required[$required.length] = $property;\n          }\n        }\n      }\n    } else {\n      var $required = $schema;\n    }\n  }\n  if ($isData || $required.length) {\n    var $currentErrorPath = it.errorPath,\n      $loopRequired = $isData || $required.length >= it.opts.loopRequired;\n    if ($breakOnError) {\n      out += ' var missing' + ($lvl) + '; ';\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        out += ' var ' + ($valid) + ' = true; ';\n        if ($isData) {\n          out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { ' + ($valid) + ' = ' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] !== undefined; if (!' + ($valid) + ') break; } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n        out += '  if (!' + ($valid) + ') {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      } else {\n        out += ' if ( ';\n        var arr2 = $required;\n        if (arr2) {\n          var _$property, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            _$property = arr2[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty(_$property);\n            out += ' ( ' + ($data) + ($prop) + ' === undefined && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? _$property : $prop)) + ') ) ';\n          }\n        }\n        out += ') {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      }\n    } else {\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        if ($isData) {\n          out += ' if (' + ($vSchema) + ' && !Array.isArray(' + ($vSchema) + ')) {  var err =   '; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ($errorKeyword || 'required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is a required property';\n              } else {\n                out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (' + ($vSchema) + ' !== undefined) { ';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { if (' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] === undefined) {  var err =   '; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n      } else {\n        var arr3 = $required;\n        if (arr3) {\n          var $reqProperty, i3 = -1,\n            l3 = arr3.length - 1;\n          while (i3 < l3) {\n            $reqProperty = arr3[i3 += 1];\n            var $prop = it.util.getProperty($reqProperty),\n              $missingProperty = it.util.escapeQuotes($reqProperty);\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $reqProperty, it.opts.jsonPointers);\n            }\n            out += ' if (' + ($data) + ($prop) + ' === undefined) {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ($errorKeyword || 'required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'';\n                if (it.opts._errorDataPathProperty) {\n                  out += 'is a required property';\n                } else {\n                  out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                }\n                out += '\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n    }\n    it.errorPath = $currentErrorPath;\n  } else if ($breakOnError) {\n    out += ' if (true) {';\n  }\n  return out;\n}\n"]}