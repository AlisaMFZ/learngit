{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["var json = typeof JSON !== 'undefined' ? JSON : require('jsonify');\n\nmodule.exports = function (obj, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var space = opts.space || '';\n    if (typeof space === 'number') space = Array(space+1).join(' ');\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n    var replacer = opts.replacer || function(key, value) { return value; };\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (parent, key, node, level) {\n        var indent = space ? ('\\n' + new Array(level + 1).join(space)) : '';\n        var colonSeparator = space ? ': ' : ':';\n\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        node = replacer.call(parent, key, node);\n\n        if (node === undefined) {\n            return;\n        }\n        if (typeof node !== 'object' || node === null) {\n            return json.stringify(node);\n        }\n        if (isArray(node)) {\n            var out = [];\n            for (var i = 0; i < node.length; i++) {\n                var item = stringify(node, i, node[i], level+1) || json.stringify(null);\n                out.push(indent + space + item);\n            }\n            return '[' + out.join(',') + indent + ']';\n        }\n        else {\n            if (seen.indexOf(node) !== -1) {\n                if (cycles) return json.stringify('__cycle__');\n                throw new TypeError('Converting circular structure to JSON');\n            }\n            else seen.push(node);\n\n            var keys = objectKeys(node).sort(cmp && cmp(node));\n            var out = [];\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var value = stringify(node, key, node[key], level+1);\n\n                if(!value) continue;\n\n                var keyValue = json.stringify(key)\n                    + colonSeparator\n                    + value;\n                ;\n                out.push(indent + space + keyValue);\n            }\n            seen.splice(seen.indexOf(node), 1);\n            return '{' + out.join(',') + indent + '}';\n        }\n    })({ '': obj }, '', obj, 0);\n};\n\nvar isArray = Array.isArray || function (x) {\n    return {}.toString.call(x) === '[object Array]';\n};\n\nvar objectKeys = Object.keys || function (obj) {\n    var has = Object.prototype.hasOwnProperty || function () { return true };\n    var keys = [];\n    for (var key in obj) {\n        if (has.call(obj, key)) keys.push(key);\n    }\n    return keys;\n};\n"]}