{"version":3,"sources":["bundle.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,KAAK,QAAQ,IAAR,CAAT;AAAA,IACI,OAAO,QAAQ,MAAR,CADX;AAAA,IAEI,aAAa,QAAQ,YAAR,CAFjB;AAAA,IAGI,SAAS,QAAQ,WAAR,CAHb;;AAKA,IAAI,MAAM,QAAQ,IAAR,CAAa,CAAb,CAAV;AAAA,IACI,aAAa,QAAQ,IAAR,CAAa,CAAb,CADjB;AAAA,IAEI,WAAW,QAAQ,IAAR,CAAa,CAAb,CAFf;;AAIA,IAAI,aAAa,KAAK,IAAL,CAAU,SAAV,EAAqB,IAArB,CAAjB;AACA,IAAI,OAAO,GAAX,EAAgB,aAAa,KAAK,IAAL,CAAU,UAAV,EAAsB,cAAtB,EAAsC,GAAtC,CAAb;;AAEhB,IAAI,OAAO,QAAQ,KAAK,IAAL,CAAU,UAAV,EAAsB,cAAtB,CAAR,CAAX;;AAEA,IAAI,UAAU,KAAK,IAAL,CAAU,SAAV,EAAqB,IAArB,EAA2B,MAA3B,CAAd;AACA,IAAI,CAAC,GAAG,UAAH,CAAc,OAAd,CAAL,EAA6B,GAAG,SAAH,CAAa,OAAb;;AAE7B,IAAI,QAAQ,EAAZ;AACA,IAAI,UAAJ,EAAgB,MAAM,UAAN,GAAmB,UAAnB;;AAEhB,WAAW,KAAX,EACC,OADD,CACS,KAAK,IAAL,CAAU,UAAV,EAAsB,KAAK,IAA3B,CADT,EAC2C,EAAC,QAAQ,KAAK,IAAd,EAD3C,EAEC,MAFD,CAEQ,UAAU,GAAV,EAAe,GAAf,EAAoB;AAC1B,MAAI,GAAJ,EAAS;AACP,YAAQ,KAAR,CAAc,mBAAd,EAAmC,GAAnC;AACA,YAAQ,IAAR,CAAa,CAAb;AACD;;AAED,MAAI,aAAa,KAAK,IAAL,CAAU,OAAV,EAAmB,KAAK,IAAxB,CAAjB;AACA,MAAI,eAAe,aAAa,YAAhC;AACA,KAAG,aAAH,CAAiB,YAAjB,EAA+B,GAA/B;AACA,MAAI,aAAa;AACf,cAAU,IADK;AAEf,cAAU,EAFK;AAGf,YAAQ;AACN,gBAAU,QAAQ,KAAK,IAAb,GAAoB,GAApB,GAA0B,KAAK,OAA/B,GAAyC,IAAzC,GAAgD,KAAK,WAArD,GAAmE;AADvE;AAHO,GAAjB;AAOA,MAAI,QAAJ,EAAc;AACZ,QAAI,eAAe,SAAS,KAAT,CAAe,GAAf,CAAnB;AACA,SAAK,IAAI,IAAE,CAAX,EAAc,IAAE,aAAa,MAA7B,EAAqC,EAAE,CAAvC,EAA0C;AACxC,UAAI,OAAO,aAAa,CAAb,EAAgB,KAAhB,CAAsB,GAAtB,CAAX;AACA,iBAAW,QAAX,CAAoB,KAAK,CAAL,CAApB,IAA+B,KAAK,MAAL,GAAc,CAAd,IAAmB,KAAK,CAAL,KAAW,OAA7D;AACD;AACF;AACD,MAAI,UAAJ,EAAgB,WAAW,YAAX,GAA0B,KAAK,IAAL,GAAY,aAAtC;;AAEhB,MAAI,SAAS,OAAO,MAAP,CAAc,YAAd,EAA4B,UAA5B,CAAb;AACA,KAAG,aAAH,CAAiB,aAAa,SAA9B,EAAyC,OAAO,IAAhD;AACA,MAAI,OAAO,GAAX,EAAgB,GAAG,aAAH,CAAiB,aAAa,aAA9B,EAA6C,OAAO,GAApD;AAChB,MAAI,CAAC,UAAL,EAAiB,GAAG,UAAH,CAAc,YAAd;AAClB,CA/BD","file":"bundle-compiled.js","sourcesContent":["'use strict';\n\nvar fs = require('fs')\n  , path = require('path')\n  , browserify = require('browserify')\n  , uglify = require('uglify-js');\n\nvar pkg = process.argv[2]\n  , standalone = process.argv[3]\n  , compress = process.argv[4];\n\nvar packageDir = path.join(__dirname, '..');\nif (pkg != '.') packageDir = path.join(packageDir, 'node_modules', pkg);\n\nvar json = require(path.join(packageDir, 'package.json'));\n\nvar distDir = path.join(__dirname, '..', 'dist');\nif (!fs.existsSync(distDir)) fs.mkdirSync(distDir);\n\nvar bOpts = {};\nif (standalone) bOpts.standalone = standalone;\n\nbrowserify(bOpts)\n.require(path.join(packageDir, json.main), {expose: json.name})\n.bundle(function (err, buf) {\n  if (err) {\n    console.error('browserify error:', err);\n    process.exit(1);\n  }\n\n  var outputFile = path.join(distDir, json.name);\n  var outputBundle = outputFile + '.bundle.js';\n  fs.writeFileSync(outputBundle, buf);\n  var uglifyOpts = {\n    warnings: true,\n    compress: {},\n    output: {\n      preamble: '/* ' + json.name + ' ' + json.version + ': ' + json.description + ' */'\n    }\n  };\n  if (compress) {\n    var compressOpts = compress.split(',');\n    for (var i=0; i<compressOpts.length; ++i) {\n      var pair = compressOpts[i].split('=');\n      uglifyOpts.compress[pair[0]] = pair.length < 1 || pair[1] != 'false';\n    }\n  }\n  if (standalone) uglifyOpts.outSourceMap = json.name + '.min.js.map';\n\n  var result = uglify.minify(outputBundle, uglifyOpts);\n  fs.writeFileSync(outputFile + '.min.js', result.code);\n  if (result.map) fs.writeFileSync(outputFile + '.min.js.map', result.map);\n  if (!standalone) fs.unlinkSync(outputBundle);\n});\n"]}