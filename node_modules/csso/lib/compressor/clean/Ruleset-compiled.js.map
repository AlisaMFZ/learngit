{"version":3,"sources":["Ruleset.js"],"names":[],"mappings":";;AAAA,IAAI,iBAAiB,OAAO,SAAP,CAAiB,cAAtC;;AAEA,SAAS,WAAT,CAAqB,IAArB,EAA2B,SAA3B,EAAsC;AAClC,WAAO,KAAK,QAAL,CAAc,SAAd,CAAwB,IAAxB,CAA6B,UAAS,QAAT,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B;AAC/D,YAAI,YAAY,SAAS,QAAT,CAAkB,IAAlB,CAAuB,UAAS,IAAT,EAAe;AAClD,oBAAQ,KAAK,IAAb;AACI,qBAAK,OAAL;AACI,2BAAO,UAAU,OAAV,IAAqB,CAAC,eAAe,IAAf,CAAoB,UAAU,OAA9B,EAAuC,KAAK,IAA5C,CAA7B;;AAEJ,qBAAK,IAAL;AACI,2BAAO,UAAU,GAAV,IAAiB,CAAC,eAAe,IAAf,CAAoB,UAAU,GAA9B,EAAmC,KAAK,IAAxC,CAAzB;;AAEJ,qBAAK,YAAL;AACI;AACA,wBAAI,KAAK,IAAL,KAAc,GAAlB,EAAuB;AACnB;AACA,+BAAO,UAAU,IAAV,IAAkB,CAAC,eAAe,IAAf,CAAoB,UAAU,IAA9B,EAAoC,KAAK,IAAL,CAAU,WAAV,EAApC,CAA1B;AACH;;AAED;AAdR;AAgBH,SAjBe,CAAhB;;AAmBA,YAAI,SAAJ,EAAe;AACX,iBAAK,MAAL,CAAY,IAAZ;AACH;AACJ,KAvBM,CAAP;AAwBH;;AAED,OAAO,OAAP,GAAiB,SAAS,YAAT,CAAsB,IAAtB,EAA4B,IAA5B,EAAkC,IAAlC,EAAwC,SAAxC,EAAmD;AAChE,QAAI,SAAJ,EAAe;AACX,oBAAY,IAAZ,EAAkB,SAAlB;AACH;;AAED,QAAI,KAAK,QAAL,CAAc,SAAd,CAAwB,OAAxB,MACA,KAAK,KAAL,CAAW,YAAX,CAAwB,OAAxB,EADJ,EACuC;AACnC,aAAK,MAAL,CAAY,IAAZ;AACH;AACJ,CATD","file":"Ruleset-compiled.js","sourcesContent":["var hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction cleanUnused(node, usageData) {\n    return node.selector.selectors.each(function(selector, item, list) {\n        var hasUnused = selector.sequence.some(function(node) {\n            switch (node.type) {\n                case 'Class':\n                    return usageData.classes && !hasOwnProperty.call(usageData.classes, node.name);\n\n                case 'Id':\n                    return usageData.ids && !hasOwnProperty.call(usageData.ids, node.name);\n\n                case 'Identifier':\n                    // ignore universal selector\n                    if (node.name !== '*') {\n                        // TODO: remove toLowerCase when type selectors will be normalized\n                        return usageData.tags && !hasOwnProperty.call(usageData.tags, node.name.toLowerCase());\n                    }\n\n                    break;\n            }\n        });\n\n        if (hasUnused) {\n            list.remove(item);\n        }\n    });\n}\n\nmodule.exports = function cleanRuleset(node, item, list, usageData) {\n    if (usageData) {\n        cleanUnused(node, usageData);\n    }\n\n    if (node.selector.selectors.isEmpty() ||\n        node.block.declarations.isEmpty()) {\n        list.remove(item);\n    }\n};\n"]}