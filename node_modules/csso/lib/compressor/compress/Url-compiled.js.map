{"version":3,"sources":["Url.js"],"names":[],"mappings":";;AAAA,IAAI,UAAU,4CAAd;AACA,IAAI,SAAS,MAAM,OAAN,GAAgB,6BAA7B;AACA,IAAI,eAAe,uBAAnB;AACA,IAAI,WAAW,IAAI,MAAJ,CAAW,OAAO,MAAP,GAAgB,sBAAhB,GAAyC,YAAzC,GAAwD,MAAnE,EAA2E,GAA3E,CAAf;;AAEA,OAAO,OAAP,GAAiB,UAAS,IAAT,EAAe;AAC5B,QAAI,QAAQ,KAAK,KAAjB;;AAEA,QAAI,MAAM,IAAN,KAAe,QAAnB,EAA6B;AACzB;AACH;;AAED,QAAI,QAAQ,MAAM,KAAN,CAAY,CAAZ,CAAZ;AACA,QAAI,MAAM,MAAM,KAAN,CAAY,MAAZ,CAAmB,CAAnB,EAAsB,MAAM,KAAN,CAAY,MAAZ,GAAqB,CAA3C,CAAV;;AAEA;AACA,UAAM,IAAI,OAAJ,CAAY,OAAZ,EAAqB,GAArB,CAAN;;AAEA;AACA;AACA,QAAI,SAAS,IAAT,CAAc,GAAd,CAAJ,EAAwB;AACpB,aAAK,KAAL,GAAa;AACT,kBAAM,KADG;AAET,kBAAM,KAAK,KAAL,CAAW,IAFR;AAGT,mBAAO;AAHE,SAAb;AAKH,KAND,MAMO;AACH;AACA;AACA;AACA,aAAK,KAAL,CAAW,KAAX,GAAmB,IAAI,OAAJ,CAAY,GAAZ,MAAqB,CAAC,CAAtB,GAA0B,MAAM,GAAN,GAAY,GAAtC,GAA4C,QAAQ,GAAR,GAAc,KAA7E;AACH;AACJ,CA3BD","file":"Url-compiled.js","sourcesContent":["var UNICODE = '\\\\\\\\[0-9a-f]{1,6}(\\\\r\\\\n|[ \\\\n\\\\r\\\\t\\\\f])?';\nvar ESCAPE = '(' + UNICODE + '|\\\\\\\\[^\\\\n\\\\r\\\\f0-9a-fA-F])';\nvar NONPRINTABLE = '\\u0000\\u0008\\u000b\\u000e-\\u001f\\u007f';\nvar SAFE_URL = new RegExp('^(' + ESCAPE + '|[^\\\"\\'\\\\(\\\\)\\\\\\\\\\\\s' + NONPRINTABLE + '])*$', 'i');\n\nmodule.exports = function(node) {\n    var value = node.value;\n\n    if (value.type !== 'String') {\n        return;\n    }\n\n    var quote = value.value[0];\n    var url = value.value.substr(1, value.value.length - 2);\n\n    // convert `\\\\` to `/`\n    url = url.replace(/\\\\\\\\/g, '/');\n\n    // remove quotes when safe\n    // https://www.w3.org/TR/css-syntax-3/#url-unquoted-diagram\n    if (SAFE_URL.test(url)) {\n        node.value = {\n            type: 'Raw',\n            info: node.value.info,\n            value: url\n        };\n    } else {\n        // use double quotes if string has no double quotes\n        // otherwise use original quotes\n        // TODO: make better quote type selection\n        node.value.value = url.indexOf('\"') === -1 ? '\"' + url + '\"' : quote + url + quote;\n    }\n};\n"]}