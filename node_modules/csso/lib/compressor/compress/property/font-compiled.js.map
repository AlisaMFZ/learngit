{"version":3,"sources":["font.js"],"names":[],"mappings":";;AAAA,OAAO,OAAP,GAAiB,SAAS,YAAT,CAAsB,IAAtB,EAA4B;AACzC,QAAI,OAAO,KAAK,QAAhB;;AAEA,SAAK,SAAL,CAAe,UAAS,IAAT,EAAe,IAAf,EAAqB;AAChC,YAAI,KAAK,IAAL,KAAc,YAAlB,EAAgC;AAC5B,gBAAI,KAAK,IAAL,KAAc,MAAlB,EAA0B;AACtB,qBAAK,IAAL,GAAY;AACR,0BAAM,QADE;AAER,0BAAM,KAAK,IAFH;AAGR,2BAAO;AAHC,iBAAZ;AAKH,aAND,MAMO,IAAI,KAAK,IAAL,KAAc,QAAlB,EAA4B;AAC/B,oBAAI,OAAO,KAAK,IAAhB;;AAEA,oBAAI,QAAQ,KAAK,IAAL,CAAU,IAAV,KAAmB,UAA3B,IAAyC,KAAK,IAAL,CAAU,KAAV,KAAoB,GAAjE,EAAsE;AAClE,yBAAK,MAAL,CAAY,IAAZ;AACH;;AAED,qBAAK,MAAL,CAAY,IAAZ;AACH,aARM,MAQA,IAAI,KAAK,IAAL,KAAc,QAAlB,EAA4B;AAC/B,oBAAI,OAAO,KAAK,IAAhB;;AAEA,oBAAI,CAAC,IAAD,IAAS,KAAK,IAAL,CAAU,IAAV,KAAmB,UAAhC,EAA4C;AACxC,yBAAK,MAAL,CAAY,IAAZ;AACH;AACJ;AACJ;AACJ,KAxBD;;AA0BA;AACA,SAAK,IAAL,CAAU,UAAS,IAAT,EAAe,IAAf,EAAqB;AAC3B,YAAI,KAAK,IAAL,KAAc,OAAlB,EAA2B;AACvB,gBAAI,CAAC,KAAK,IAAN,IAAc,CAAC,KAAK,IAApB,IAA4B,KAAK,IAAL,CAAU,IAAV,CAAe,IAAf,KAAwB,OAAxD,EAAiE;AAC7D,qBAAK,MAAL,CAAY,IAAZ;AACH;AACJ;AACJ,KAND;;AAQA,QAAI,KAAK,OAAL,EAAJ,EAAoB;AAChB,aAAK,MAAL,CAAY,KAAK,UAAL,CAAgB;AACxB,kBAAM,YADkB;AAExB,kBAAM;AAFkB,SAAhB,CAAZ;AAIH;AACJ,CA5CD","file":"font-compiled.js","sourcesContent":["module.exports = function compressFont(node) {\n    var list = node.sequence;\n\n    list.eachRight(function(node, item) {\n        if (node.type === 'Identifier') {\n            if (node.name === 'bold') {\n                item.data = {\n                    type: 'Number',\n                    info: node.info,\n                    value: '700'\n                };\n            } else if (node.name === 'normal') {\n                var prev = item.prev;\n\n                if (prev && prev.data.type === 'Operator' && prev.data.value === '/') {\n                    this.remove(prev);\n                }\n\n                this.remove(item);\n            } else if (node.name === 'medium') {\n                var next = item.next;\n\n                if (!next || next.data.type !== 'Operator') {\n                    this.remove(item);\n                }\n            }\n        }\n    });\n\n    // remove redundant spaces\n    list.each(function(node, item) {\n        if (node.type === 'Space') {\n            if (!item.prev || !item.next || item.next.data.type === 'Space') {\n                this.remove(item);\n            }\n        }\n    });\n\n    if (list.isEmpty()) {\n        list.insert(list.createItem({\n            type: 'Identifier',\n            name: 'normal'\n        }));\n    }\n};\n"]}