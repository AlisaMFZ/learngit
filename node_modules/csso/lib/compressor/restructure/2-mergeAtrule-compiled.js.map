{"version":3,"sources":["2-mergeAtrule.js"],"names":[],"mappings":";;AAAA,IAAI,iBAAiB,QAAQ,qBAAR,EAA+B,UAApD;;AAEA,SAAS,WAAT,CAAqB,IAArB,EAA2B;AACvB,WAAO,KAAK,IAAL,KAAc,QAAd,IAA0B,KAAK,IAAL,KAAc,OAA/C;AACH;;AAED,SAAS,aAAT,CAAuB,IAAvB,EAA6B,IAA7B,EAAmC,IAAnC,EAAyC;AACrC,QAAI,CAAC,YAAY,IAAZ,CAAL,EAAwB;AACpB;AACH;;AAED,QAAI,OAAO,KAAK,IAAL,IAAa,KAAK,IAAL,CAAU,IAAlC;;AAEA,QAAI,CAAC,IAAD,IAAS,CAAC,YAAY,IAAZ,CAAd,EAAiC;AAC7B;AACH;;AAED;AACA,QAAI,KAAK,UAAL,CAAgB,EAAhB,KAAuB,KAAK,UAAL,CAAgB,EAA3C,EAA+C;AAC3C,aAAK,KAAL,CAAW,KAAX,CAAiB,UAAjB,CAA4B,KAAK,KAAL,CAAW,KAAvC;AACA,aAAK,IAAL,GAAY;AACR,qBAAS,KAAK,IADN;AAER,oBAAQ,KAAK;AAFL,SAAZ;AAIA,aAAK,MAAL,CAAY,IAAZ;AACH;AACJ;;AAED,OAAO,OAAP,GAAiB,SAAS,YAAT,CAAsB,GAAtB,EAA2B;AACxC,mBAAe,GAAf,EAAoB,UAAS,IAAT,EAAe,IAAf,EAAqB,IAArB,EAA2B;AAC3C,YAAI,KAAK,IAAL,KAAc,QAAlB,EAA4B;AACxB,0BAAc,IAAd,EAAoB,IAApB,EAA0B,IAA1B;AACH;AACJ,KAJD;AAKH,CAND","file":"2-mergeAtrule-compiled.js","sourcesContent":["var walkRulesRight = require('../../utils/walk.js').rulesRight;\n\nfunction isMediaRule(node) {\n    return node.type === 'Atrule' && node.name === 'media';\n}\n\nfunction processAtrule(node, item, list) {\n    if (!isMediaRule(node)) {\n        return;\n    }\n\n    var prev = item.prev && item.prev.data;\n\n    if (!prev || !isMediaRule(prev)) {\n        return;\n    }\n\n    // merge @media with same query\n    if (node.expression.id === prev.expression.id) {\n        prev.block.rules.appendList(node.block.rules);\n        prev.info = {\n            primary: prev.info,\n            merged: node.info\n        };\n        list.remove(item);\n    }\n};\n\nmodule.exports = function rejoinAtrule(ast) {\n    walkRulesRight(ast, function(node, item, list) {\n        if (node.type === 'Atrule') {\n            processAtrule(node, item, list);\n        }\n    });\n};\n"]}