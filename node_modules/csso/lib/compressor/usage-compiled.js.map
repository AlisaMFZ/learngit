{"version":3,"sources":["usage.js"],"names":[],"mappings":";;;;;;;;AAAA,IAAI,iBAAiB,OAAO,SAAP,CAAiB,cAAtC;;AAEA,SAAS,QAAT,CAAkB,IAAlB,EAAwB,eAAxB,EAAyC;AACrC,QAAI,MAAM,sBAAc,IAAd,CAAV;;AAEA,QAAI,CAAC,MAAM,OAAN,CAAc,IAAd,CAAL,EAA0B;AACtB,eAAO,KAAP;AACH;;AAED,SAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,MAAzB,EAAiC,GAAjC,EAAsC;AAClC,YAAI,OAAO,KAAK,CAAL,CAAX;;AAEA,YAAI,eAAJ,EAAqB;AACjB,mBAAO,KAAK,WAAL,EAAP;AACH;;AAED,YAAI,IAAJ,IAAY,IAAZ;AACH;;AAED,WAAO,GAAP;AACH;;AAED,SAAS,UAAT,CAAoB,IAApB,EAA0B;AACtB,QAAI,SAAS,KAAb;;AAEA,QAAI,KAAK,MAAL,IAAe,MAAM,OAAN,CAAc,KAAK,MAAnB,CAAnB,EAA+C;AAC3C,iBAAS,sBAAc,IAAd,CAAT;;AAEA,aAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,MAAL,CAAY,MAAhC,EAAwC,GAAxC,EAA6C;AACzC,gBAAI,OAAO,KAAK,MAAL,CAAY,CAAZ,CAAX;;AAEA,gBAAI,CAAC,IAAD,IAAS,CAAC,MAAM,OAAN,CAAc,IAAd,CAAd,EAAmC;AAC/B,sBAAM,IAAI,KAAJ,CAAU,oBAAV,CAAN;AACH;;AAED,iBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,MAAzB,EAAiC,GAAjC,EAAsC;AAClC,oBAAI,OAAO,KAAK,CAAL,CAAX;;AAEA,oBAAI,eAAe,IAAf,CAAoB,MAApB,EAA4B,IAA5B,CAAJ,EAAuC;AACnC,0BAAM,IAAI,KAAJ,CAAU,8CAA8C,IAAxD,CAAN;AACH;;AAED,uBAAO,IAAP,IAAe,IAAI,CAAnB;AACH;AACJ;AACJ;;AAED,WAAO;AACH,cAAM,SAAS,KAAK,IAAd,EAAoB,IAApB,CADH;AAEH,aAAK,SAAS,KAAK,GAAd,CAFF;AAGH,iBAAS,SAAS,KAAK,OAAd,CAHN;AAIH,gBAAQ;AAJL,KAAP;AAMH;;AAED,OAAO,OAAP,GAAiB;AACb,gBAAY;AADC,CAAjB","file":"usage-compiled.js","sourcesContent":["var hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction buildMap(list, caseInsensitive) {\n    var map = Object.create(null);\n\n    if (!Array.isArray(list)) {\n        return false;\n    }\n\n    for (var i = 0; i < list.length; i++) {\n        var name = list[i];\n\n        if (caseInsensitive) {\n            name = name.toLowerCase();\n        }\n\n        map[name] = true;\n    }\n\n    return map;\n}\n\nfunction buildIndex(data) {\n    var scopes = false;\n\n    if (data.scopes && Array.isArray(data.scopes)) {\n        scopes = Object.create(null);\n\n        for (var i = 0; i < data.scopes.length; i++) {\n            var list = data.scopes[i];\n\n            if (!list || !Array.isArray(list)) {\n                throw new Error('Wrong usage format');\n            }\n\n            for (var j = 0; j < list.length; j++) {\n                var name = list[j];\n\n                if (hasOwnProperty.call(scopes, name)) {\n                    throw new Error('Class can\\'t be used for several scopes: ' + name);\n                }\n\n                scopes[name] = i + 1;\n            }\n        }\n    }\n\n    return {\n        tags: buildMap(data.tags, true),\n        ids: buildMap(data.ids),\n        classes: buildMap(data.classes),\n        scopes: scopes\n    };\n}\n\nmodule.exports = {\n    buildIndex: buildIndex\n};\n"]}