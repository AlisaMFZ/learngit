{"version":3,"sources":["walk.js"],"names":[],"mappings":"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","file":"walk-compiled.js","sourcesContent":["function walkRules(node, item, list) {\n    switch (node.type) {\n        case 'StyleSheet':\n            var oldStylesheet = this.stylesheet;\n            this.stylesheet = node;\n\n            node.rules.each(walkRules, this);\n\n            this.stylesheet = oldStylesheet;\n            break;\n\n        case 'Atrule':\n            if (node.block !== null) {\n                walkRules.call(this, node.block);\n            }\n\n            this.fn(node, item, list);\n            break;\n\n        case 'Ruleset':\n            this.fn(node, item, list);\n            break;\n    }\n\n}\n\nfunction walkRulesRight(node, item, list) {\n    switch (node.type) {\n        case 'StyleSheet':\n            var oldStylesheet = this.stylesheet;\n            this.stylesheet = node;\n\n            node.rules.eachRight(walkRulesRight, this);\n\n            this.stylesheet = oldStylesheet;\n            break;\n\n        case 'Atrule':\n            if (node.block !== null) {\n                walkRulesRight.call(this, node.block);\n            }\n\n            this.fn(node, item, list);\n            break;\n\n        case 'Ruleset':\n            this.fn(node, item, list);\n            break;\n    }\n}\n\nfunction walkAll(node, item, list) {\n    switch (node.type) {\n        case 'StyleSheet':\n            var oldStylesheet = this.stylesheet;\n            this.stylesheet = node;\n\n            node.rules.each(walkAll, this);\n\n            this.stylesheet = oldStylesheet;\n            break;\n\n        case 'Atrule':\n            if (node.expression !== null) {\n                walkAll.call(this, node.expression);\n            }\n            if (node.block !== null) {\n                walkAll.call(this, node.block);\n            }\n            break;\n\n        case 'Ruleset':\n            this.ruleset = node;\n\n            if (node.selector !== null) {\n                walkAll.call(this, node.selector);\n            }\n            walkAll.call(this, node.block);\n\n            this.ruleset = null;\n            break;\n\n        case 'Selector':\n            var oldSelector = this.selector;\n            this.selector = node;\n\n            node.selectors.each(walkAll, this);\n\n            this.selector = oldSelector;\n            break;\n\n        case 'Block':\n            node.declarations.each(walkAll, this);\n            break;\n\n        case 'Declaration':\n            this.declaration = node;\n\n            walkAll.call(this, node.property);\n            walkAll.call(this, node.value);\n\n            this.declaration = null;\n            break;\n\n        case 'Attribute':\n            walkAll.call(this, node.name);\n            if (node.value !== null) {\n                walkAll.call(this, node.value);\n            }\n            break;\n\n        case 'FunctionalPseudo':\n        case 'Function':\n            this['function'] = node;\n\n            node.arguments.each(walkAll, this);\n\n            this['function'] = null;\n            break;\n\n        case 'AtruleExpression':\n            this.atruleExpression = node;\n\n            node.sequence.each(walkAll, this);\n\n            this.atruleExpression = null;\n            break;\n\n        case 'Value':\n        case 'Argument':\n        case 'SimpleSelector':\n        case 'Braces':\n        case 'Negation':\n            node.sequence.each(walkAll, this);\n            break;\n\n        case 'Url':\n        case 'Progid':\n            walkAll.call(this, node.value);\n            break;\n\n        // nothig to do with\n        // case 'Property':\n        // case 'Combinator':\n        // case 'Dimension':\n        // case 'Hash':\n        // case 'Identifier':\n        // case 'Nth':\n        // case 'Class':\n        // case 'Id':\n        // case 'Percentage':\n        // case 'PseudoClass':\n        // case 'PseudoElement':\n        // case 'Space':\n        // case 'Number':\n        // case 'String':\n        // case 'Operator':\n        // case 'Raw':\n    }\n\n    this.fn(node, item, list);\n}\n\nfunction createContext(root, fn) {\n    var context = {\n        fn: fn,\n        root: root,\n        stylesheet: null,\n        atruleExpression: null,\n        ruleset: null,\n        selector: null,\n        declaration: null,\n        function: null\n    };\n\n    return context;\n}\n\nmodule.exports = {\n    all: function(root, fn) {\n        walkAll.call(createContext(root, fn), root);\n    },\n    rules: function(root, fn) {\n        walkRules.call(createContext(root, fn), root);\n    },\n    rulesRight: function(root, fn) {\n        walkRulesRight.call(createContext(root, fn), root);\n    }\n};\n"]}