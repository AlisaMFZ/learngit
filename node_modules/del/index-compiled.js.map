{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA;;;;;;;;AACA,IAAI,OAAO,QAAQ,MAAR,CAAX;AACA,IAAI,SAAS,QAAQ,QAAR,CAAb;AACA,IAAI,YAAY,QAAQ,YAAR,CAAhB;AACA,IAAI,YAAY,QAAQ,aAAR,CAAhB;AACA,IAAI,cAAc,QAAQ,gBAAR,CAAlB;AACA,IAAI,SAAS,QAAQ,QAAR,CAAb;AACA,IAAI,eAAe,QAAQ,eAAR,CAAnB;;AAEA,SAAS,SAAT,CAAmB,IAAnB,EAAyB;AACxB,KAAI,UAAU,IAAV,CAAJ,EAAqB;AACpB,QAAM,IAAI,KAAJ,CAAU,wFAAV,CAAN;AACA;;AAED,KAAI,CAAC,YAAY,IAAZ,CAAL,EAAwB;AACvB,QAAM,IAAI,KAAJ,CAAU,8GAAV,CAAN;AACA;AACD;;AAED,OAAO,OAAP,GAAiB,UAAU,QAAV,EAAoB,IAApB,EAA0B,EAA1B,EAA8B;AAC9C,KAAI,QAAO,IAAP,uDAAO,IAAP,OAAgB,QAApB,EAA8B;AAC7B,OAAK,IAAL;AACA,SAAO,EAAP;AACA;;AAED,QAAO,aAAa,EAAb,EAAiB,IAAjB,CAAP;AACA,MAAK,MAAM,YAAY,CAAE,CAAzB;;AAEA,KAAI,QAAQ,KAAK,KAAjB;AACA,QAAO,KAAK,KAAZ;;AAEA,KAAI,eAAe,EAAnB;;AAEA,QAAO,QAAP,EAAiB,IAAjB,EAAuB,UAAU,GAAV,EAAe,KAAf,EAAsB;AAC5C,MAAI,GAAJ,EAAS;AACR,MAAG,GAAH;AACA;AACA;;AAED,YAAU,KAAV,EAAiB,UAAU,EAAV,EAAc,CAAd,EAAiB,IAAjB,EAAuB;AACvC,OAAI,CAAC,KAAL,EAAY;AACX,cAAU,EAAV;AACA;;AAED,QAAK,KAAK,OAAL,CAAa,KAAK,GAAL,IAAY,EAAzB,EAA6B,EAA7B,CAAL;AACA,gBAAa,IAAb,CAAkB,EAAlB;AACA,UAAO,EAAP,EAAW,IAAX;AACA,GARD,EAQG,UAAU,GAAV,EAAe;AACjB,OAAI,GAAJ,EAAS;AACR,OAAG,GAAH;AACA;AACA;;AAED,MAAG,IAAH,EAAS,YAAT;AACA,GAfD;AAgBA,EAtBD;AAuBA,CArCD;;AAuCA,OAAO,OAAP,CAAe,IAAf,GAAsB,UAAU,QAAV,EAAoB,IAApB,EAA0B;AAC/C,QAAO,aAAa,EAAb,EAAiB,IAAjB,CAAP;;AAEA,KAAI,QAAQ,KAAK,KAAjB;AACA,QAAO,KAAK,KAAZ;;AAEA,KAAI,eAAe,EAAnB;;AAEA,QAAO,IAAP,CAAY,QAAZ,EAAsB,IAAtB,EAA4B,OAA5B,CAAoC,UAAU,EAAV,EAAc;AACjD,MAAI,CAAC,KAAL,EAAY;AACX,aAAU,EAAV;AACA;;AAED,OAAK,KAAK,OAAL,CAAa,KAAK,GAAL,IAAY,EAAzB,EAA6B,EAA7B,CAAL;AACA,eAAa,IAAb,CAAkB,EAAlB;AACA,SAAO,IAAP,CAAY,EAAZ;AACA,EARD;;AAUA,QAAO,YAAP;AACA,CAnBD","file":"index-compiled.js","sourcesContent":["'use strict';\nvar path = require('path');\nvar globby = require('globby');\nvar eachAsync = require('each-async');\nvar isPathCwd = require('is-path-cwd');\nvar isPathInCwd = require('is-path-in-cwd');\nvar rimraf = require('rimraf');\nvar objectAssign = require('object-assign');\n\nfunction safeCheck(file) {\n\tif (isPathCwd(file)) {\n\t\tthrow new Error('Cannot delete the current working directory. Can be overriden with the `force` option.');\n\t}\n\n\tif (!isPathInCwd(file)) {\n\t\tthrow new Error('Cannot delete files/folders outside the current working directory. Can be overriden with the `force` option.');\n\t}\n}\n\nmodule.exports = function (patterns, opts, cb) {\n\tif (typeof opts !== 'object') {\n\t\tcb = opts;\n\t\topts = {};\n\t}\n\n\topts = objectAssign({}, opts);\n\tcb = cb || function () {};\n\n\tvar force = opts.force;\n\tdelete opts.force;\n\n\tvar deletedFiles = [];\n\n\tglobby(patterns, opts, function (err, files) {\n\t\tif (err) {\n\t\t\tcb(err);\n\t\t\treturn;\n\t\t}\n\n\t\teachAsync(files, function (el, i, next) {\n\t\t\tif (!force) {\n\t\t\t\tsafeCheck(el);\n\t\t\t}\n\n\t\t\tel = path.resolve(opts.cwd || '', el);\n\t\t\tdeletedFiles.push(el);\n\t\t\trimraf(el, next);\n\t\t}, function (err) {\n\t\t\tif (err) {\n\t\t\t\tcb(err);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcb(null, deletedFiles);\n\t\t});\n\t});\n};\n\nmodule.exports.sync = function (patterns, opts) {\n\topts = objectAssign({}, opts);\n\n\tvar force = opts.force;\n\tdelete opts.force;\n\n\tvar deletedFiles = [];\n\n\tglobby.sync(patterns, opts).forEach(function (el) {\n\t\tif (!force) {\n\t\t\tsafeCheck(el);\n\t\t}\n\n\t\tel = path.resolve(opts.cwd || '', el);\n\t\tdeletedFiles.push(el);\n\t\trimraf.sync(el);\n\t});\n\n\treturn deletedFiles;\n};\n"]}