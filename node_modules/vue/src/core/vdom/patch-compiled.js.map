{"version":3,"sources":["patch.js"],"names":[],"mappings":"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","file":"patch-compiled.js","sourcesContent":["/**\n * Virtual DOM patching algorithm based on Snabbdom by\n * Simon Friis Vindum (@paldepind)\n * Licensed under the MIT License\n * https://github.com/paldepind/snabbdom/blob/master/LICENSE\n *\n * modified by Evan You (@yyx990803)\n *\n\n/*\n * Not type-checking this because this file is perf-critical and the cost\n * of making flow understand it is not worth it.\n */\n\nimport config from '../config'\nimport VNode from './vnode'\nimport { makeMap, isPrimitive, warn } from '../util/index'\nimport { activeInstance } from '../instance/lifecycle'\nimport { registerRef } from './modules/ref'\n\nexport const emptyNode = new VNode('', {}, [])\n\nconst hooks = ['create', 'activate', 'update', 'remove', 'destroy']\n\nfunction isUndef (s) {\n  return s == null\n}\n\nfunction isDef (s) {\n  return s != null\n}\n\nfunction sameVnode (vnode1, vnode2) {\n  return (\n    vnode1.key === vnode2.key &&\n    vnode1.tag === vnode2.tag &&\n    vnode1.isComment === vnode2.isComment &&\n    !vnode1.data === !vnode2.data\n  )\n}\n\nfunction createKeyToOldIdx (children, beginIdx, endIdx) {\n  let i, key\n  const map = {}\n  for (i = beginIdx; i <= endIdx; ++i) {\n    key = children[i].key\n    if (isDef(key)) map[key] = i\n  }\n  return map\n}\n\nexport function createPatchFunction (backend) {\n  let i, j\n  const cbs = {}\n\n  const { modules, nodeOps } = backend\n\n  for (i = 0; i < hooks.length; ++i) {\n    cbs[hooks[i]] = []\n    for (j = 0; j < modules.length; ++j) {\n      if (modules[j][hooks[i]] !== undefined) cbs[hooks[i]].push(modules[j][hooks[i]])\n    }\n  }\n\n  function emptyNodeAt (elm) {\n    return new VNode(nodeOps.tagName(elm).toLowerCase(), {}, [], undefined, elm)\n  }\n\n  function createRmCb (childElm, listeners) {\n    function remove () {\n      if (--remove.listeners === 0) {\n        removeNode(childElm)\n      }\n    }\n    remove.listeners = listeners\n    return remove\n  }\n\n  function removeNode (el) {\n    const parent = nodeOps.parentNode(el)\n    // element may have already been removed due to v-html / v-text\n    if (parent) {\n      nodeOps.removeChild(parent, el)\n    }\n  }\n\n  let inPre = 0\n  function createElm (vnode, insertedVnodeQueue, parentElm, refElm, nested) {\n    vnode.isRootInsert = !nested // for transition enter check\n    if (createComponent(vnode, insertedVnodeQueue, parentElm, refElm)) {\n      return\n    }\n\n    const data = vnode.data\n    const children = vnode.children\n    const tag = vnode.tag\n    if (isDef(tag)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (data && data.pre) {\n          inPre++\n        }\n        if (\n          !inPre &&\n          !vnode.ns &&\n          !(config.ignoredElements.length && config.ignoredElements.indexOf(tag) > -1) &&\n          config.isUnknownElement(tag)\n        ) {\n          warn(\n            'Unknown custom element: <' + tag + '> - did you ' +\n            'register the component correctly? For recursive components, ' +\n            'make sure to provide the \"name\" option.',\n            vnode.context\n          )\n        }\n      }\n      vnode.elm = vnode.ns\n        ? nodeOps.createElementNS(vnode.ns, tag)\n        : nodeOps.createElement(tag, vnode)\n      setScope(vnode)\n\n      /* istanbul ignore if */\n      if (__WEEX__) {\n        // in Weex, the default insertion order is parent-first.\n        // List items can be optimized to use children-first insertion\n        // with append=\"tree\".\n        const appendAsTree = data && data.appendAsTree\n        if (!appendAsTree) {\n          if (isDef(data)) {\n            invokeCreateHooks(vnode, insertedVnodeQueue)\n          }\n          insert(parentElm, vnode.elm, refElm)\n        }\n        createChildren(vnode, children, insertedVnodeQueue)\n        if (appendAsTree) {\n          if (isDef(data)) {\n            invokeCreateHooks(vnode, insertedVnodeQueue)\n          }\n          insert(parentElm, vnode.elm, refElm)\n        }\n      } else {\n        createChildren(vnode, children, insertedVnodeQueue)\n        if (isDef(data)) {\n          invokeCreateHooks(vnode, insertedVnodeQueue)\n        }\n        insert(parentElm, vnode.elm, refElm)\n      }\n\n      if (process.env.NODE_ENV !== 'production' && data && data.pre) {\n        inPre--\n      }\n    } else if (vnode.isComment) {\n      vnode.elm = nodeOps.createComment(vnode.text)\n      insert(parentElm, vnode.elm, refElm)\n    } else {\n      vnode.elm = nodeOps.createTextNode(vnode.text)\n      insert(parentElm, vnode.elm, refElm)\n    }\n  }\n\n  function createComponent (vnode, insertedVnodeQueue, parentElm, refElm) {\n    let i = vnode.data\n    if (isDef(i)) {\n      const isReactivated = isDef(vnode.componentInstance) && i.keepAlive\n      if (isDef(i = i.hook) && isDef(i = i.init)) {\n        i(vnode, false /* hydrating */, parentElm, refElm)\n      }\n      // after calling the init hook, if the vnode is a child component\n      // it should've created a child instance and mounted it. the child\n      // component also has set the placeholder vnode's elm.\n      // in that case we can just return the element and be done.\n      if (isDef(vnode.componentInstance)) {\n        initComponent(vnode, insertedVnodeQueue)\n        if (isReactivated) {\n          reactivateComponent(vnode, insertedVnodeQueue, parentElm, refElm)\n        }\n        return true\n      }\n    }\n  }\n\n  function initComponent (vnode, insertedVnodeQueue) {\n    if (vnode.data.pendingInsert) {\n      insertedVnodeQueue.push.apply(insertedVnodeQueue, vnode.data.pendingInsert)\n    }\n    vnode.elm = vnode.componentInstance.$el\n    if (isPatchable(vnode)) {\n      invokeCreateHooks(vnode, insertedVnodeQueue)\n      setScope(vnode)\n    } else {\n      // empty component root.\n      // skip all element-related modules except for ref (#3455)\n      registerRef(vnode)\n      // make sure to invoke the insert hook\n      insertedVnodeQueue.push(vnode)\n    }\n  }\n\n  function reactivateComponent (vnode, insertedVnodeQueue, parentElm, refElm) {\n    let i\n    // hack for #4339: a reactivated component with inner transition\n    // does not trigger because the inner node's created hooks are not called\n    // again. It's not ideal to involve module-specific logic in here but\n    // there doesn't seem to be a better way to do it.\n    let innerNode = vnode\n    while (innerNode.componentInstance) {\n      innerNode = innerNode.componentInstance._vnode\n      if (isDef(i = innerNode.data) && isDef(i = i.transition)) {\n        for (i = 0; i < cbs.activate.length; ++i) {\n          cbs.activate[i](emptyNode, innerNode)\n        }\n        insertedVnodeQueue.push(innerNode)\n        break\n      }\n    }\n    // unlike a newly created component,\n    // a reactivated keep-alive component doesn't insert itself\n    insert(parentElm, vnode.elm, refElm)\n  }\n\n  function insert (parent, elm, ref) {\n    if (parent) {\n      if (ref) {\n        nodeOps.insertBefore(parent, elm, ref)\n      } else {\n        nodeOps.appendChild(parent, elm)\n      }\n    }\n  }\n\n  function createChildren (vnode, children, insertedVnodeQueue) {\n    if (Array.isArray(children)) {\n      for (let i = 0; i < children.length; ++i) {\n        createElm(children[i], insertedVnodeQueue, vnode.elm, null, true)\n      }\n    } else if (isPrimitive(vnode.text)) {\n      nodeOps.appendChild(vnode.elm, nodeOps.createTextNode(vnode.text))\n    }\n  }\n\n  function isPatchable (vnode) {\n    while (vnode.componentInstance) {\n      vnode = vnode.componentInstance._vnode\n    }\n    return isDef(vnode.tag)\n  }\n\n  function invokeCreateHooks (vnode, insertedVnodeQueue) {\n    for (let i = 0; i < cbs.create.length; ++i) {\n      cbs.create[i](emptyNode, vnode)\n    }\n    i = vnode.data.hook // Reuse variable\n    if (isDef(i)) {\n      if (i.create) i.create(emptyNode, vnode)\n      if (i.insert) insertedVnodeQueue.push(vnode)\n    }\n  }\n\n  // set scope id attribute for scoped CSS.\n  // this is implemented as a special case to avoid the overhead\n  // of going through the normal attribute patching process.\n  function setScope (vnode) {\n    let i\n    let ancestor = vnode\n    while (ancestor) {\n      if (isDef(i = ancestor.context) && isDef(i = i.$options._scopeId)) {\n        nodeOps.setAttribute(vnode.elm, i, '')\n      }\n      ancestor = ancestor.parent\n    }\n    // for slot content they should also get the scopeId from the host instance.\n    if (isDef(i = activeInstance) &&\n        i !== vnode.context &&\n        isDef(i = i.$options._scopeId)) {\n      nodeOps.setAttribute(vnode.elm, i, '')\n    }\n  }\n\n  function addVnodes (parentElm, refElm, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      createElm(vnodes[startIdx], insertedVnodeQueue, parentElm, refElm)\n    }\n  }\n\n  function invokeDestroyHook (vnode) {\n    let i, j\n    const data = vnode.data\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.destroy)) i(vnode)\n      for (i = 0; i < cbs.destroy.length; ++i) cbs.destroy[i](vnode)\n    }\n    if (isDef(i = vnode.children)) {\n      for (j = 0; j < vnode.children.length; ++j) {\n        invokeDestroyHook(vnode.children[j])\n      }\n    }\n  }\n\n  function removeVnodes (parentElm, vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      const ch = vnodes[startIdx]\n      if (isDef(ch)) {\n        if (isDef(ch.tag)) {\n          removeAndInvokeRemoveHook(ch)\n          invokeDestroyHook(ch)\n        } else { // Text node\n          removeNode(ch.elm)\n        }\n      }\n    }\n  }\n\n  function removeAndInvokeRemoveHook (vnode, rm) {\n    if (rm || isDef(vnode.data)) {\n      const listeners = cbs.remove.length + 1\n      if (!rm) {\n        // directly removing\n        rm = createRmCb(vnode.elm, listeners)\n      } else {\n        // we have a recursively passed down rm callback\n        // increase the listeners count\n        rm.listeners += listeners\n      }\n      // recursively invoke hooks on child component root node\n      if (isDef(i = vnode.componentInstance) && isDef(i = i._vnode) && isDef(i.data)) {\n        removeAndInvokeRemoveHook(i, rm)\n      }\n      for (i = 0; i < cbs.remove.length; ++i) {\n        cbs.remove[i](vnode, rm)\n      }\n      if (isDef(i = vnode.data.hook) && isDef(i = i.remove)) {\n        i(vnode, rm)\n      } else {\n        rm()\n      }\n    } else {\n      removeNode(vnode.elm)\n    }\n  }\n\n  function updateChildren (parentElm, oldCh, newCh, insertedVnodeQueue, removeOnly) {\n    let oldStartIdx = 0\n    let newStartIdx = 0\n    let oldEndIdx = oldCh.length - 1\n    let oldStartVnode = oldCh[0]\n    let oldEndVnode = oldCh[oldEndIdx]\n    let newEndIdx = newCh.length - 1\n    let newStartVnode = newCh[0]\n    let newEndVnode = newCh[newEndIdx]\n    let oldKeyToIdx, idxInOld, elmToMove, refElm\n\n    // removeOnly is a special flag used only by <transition-group>\n    // to ensure removed elements stay in correct relative positions\n    // during leaving transitions\n    const canMove = !removeOnly\n\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n      if (isUndef(oldStartVnode)) {\n        oldStartVnode = oldCh[++oldStartIdx] // Vnode has been moved left\n      } else if (isUndef(oldEndVnode)) {\n        oldEndVnode = oldCh[--oldEndIdx]\n      } else if (sameVnode(oldStartVnode, newStartVnode)) {\n        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue)\n        oldStartVnode = oldCh[++oldStartIdx]\n        newStartVnode = newCh[++newStartIdx]\n      } else if (sameVnode(oldEndVnode, newEndVnode)) {\n        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue)\n        oldEndVnode = oldCh[--oldEndIdx]\n        newEndVnode = newCh[--newEndIdx]\n      } else if (sameVnode(oldStartVnode, newEndVnode)) { // Vnode moved right\n        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue)\n        canMove && nodeOps.insertBefore(parentElm, oldStartVnode.elm, nodeOps.nextSibling(oldEndVnode.elm))\n        oldStartVnode = oldCh[++oldStartIdx]\n        newEndVnode = newCh[--newEndIdx]\n      } else if (sameVnode(oldEndVnode, newStartVnode)) { // Vnode moved left\n        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue)\n        canMove && nodeOps.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm)\n        oldEndVnode = oldCh[--oldEndIdx]\n        newStartVnode = newCh[++newStartIdx]\n      } else {\n        if (isUndef(oldKeyToIdx)) oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx)\n        idxInOld = isDef(newStartVnode.key) ? oldKeyToIdx[newStartVnode.key] : null\n        if (isUndef(idxInOld)) { // New element\n          createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm)\n          newStartVnode = newCh[++newStartIdx]\n        } else {\n          elmToMove = oldCh[idxInOld]\n          /* istanbul ignore if */\n          if (process.env.NODE_ENV !== 'production' && !elmToMove) {\n            warn(\n              'It seems there are duplicate keys that is causing an update error. ' +\n              'Make sure each v-for item has a unique key.'\n            )\n          }\n          if (sameVnode(elmToMove, newStartVnode)) {\n            patchVnode(elmToMove, newStartVnode, insertedVnodeQueue)\n            oldCh[idxInOld] = undefined\n            canMove && nodeOps.insertBefore(parentElm, newStartVnode.elm, oldStartVnode.elm)\n            newStartVnode = newCh[++newStartIdx]\n          } else {\n            // same key but different element. treat as new element\n            createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm)\n            newStartVnode = newCh[++newStartIdx]\n          }\n        }\n      }\n    }\n    if (oldStartIdx > oldEndIdx) {\n      refElm = isUndef(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].elm\n      addVnodes(parentElm, refElm, newCh, newStartIdx, newEndIdx, insertedVnodeQueue)\n    } else if (newStartIdx > newEndIdx) {\n      removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx)\n    }\n  }\n\n  function patchVnode (oldVnode, vnode, insertedVnodeQueue, removeOnly) {\n    if (oldVnode === vnode) {\n      return\n    }\n    // reuse element for static trees.\n    // note we only do this if the vnode is cloned -\n    // if the new node is not cloned it means the render functions have been\n    // reset by the hot-reload-api and we need to do a proper re-render.\n    if (vnode.isStatic &&\n        oldVnode.isStatic &&\n        vnode.key === oldVnode.key &&\n        (vnode.isCloned || vnode.isOnce)) {\n      vnode.elm = oldVnode.elm\n      vnode.componentInstance = oldVnode.componentInstance\n      return\n    }\n    let i\n    const data = vnode.data\n    const hasData = isDef(data)\n    if (hasData && isDef(i = data.hook) && isDef(i = i.prepatch)) {\n      i(oldVnode, vnode)\n    }\n    const elm = vnode.elm = oldVnode.elm\n    const oldCh = oldVnode.children\n    const ch = vnode.children\n    if (hasData && isPatchable(vnode)) {\n      for (i = 0; i < cbs.update.length; ++i) cbs.update[i](oldVnode, vnode)\n      if (isDef(i = data.hook) && isDef(i = i.update)) i(oldVnode, vnode)\n    }\n    if (isUndef(vnode.text)) {\n      if (isDef(oldCh) && isDef(ch)) {\n        if (oldCh !== ch) updateChildren(elm, oldCh, ch, insertedVnodeQueue, removeOnly)\n      } else if (isDef(ch)) {\n        if (isDef(oldVnode.text)) nodeOps.setTextContent(elm, '')\n        addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue)\n      } else if (isDef(oldCh)) {\n        removeVnodes(elm, oldCh, 0, oldCh.length - 1)\n      } else if (isDef(oldVnode.text)) {\n        nodeOps.setTextContent(elm, '')\n      }\n    } else if (oldVnode.text !== vnode.text) {\n      nodeOps.setTextContent(elm, vnode.text)\n    }\n    if (hasData) {\n      if (isDef(i = data.hook) && isDef(i = i.postpatch)) i(oldVnode, vnode)\n    }\n  }\n\n  function invokeInsertHook (vnode, queue, initial) {\n    // delay insert hooks for component root nodes, invoke them after the\n    // element is really inserted\n    if (initial && vnode.parent) {\n      vnode.parent.data.pendingInsert = queue\n    } else {\n      for (let i = 0; i < queue.length; ++i) {\n        queue[i].data.hook.insert(queue[i])\n      }\n    }\n  }\n\n  let bailed = false\n  // list of modules that can skip create hook during hydration because they\n  // are already rendered on the client or has no need for initialization\n  const isRenderedModule = makeMap('attrs,style,class,staticClass,staticStyle,key')\n\n  // Note: this is a browser-only function so we can assume elms are DOM nodes.\n  function hydrate (elm, vnode, insertedVnodeQueue) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!assertNodeMatch(elm, vnode)) {\n        return false\n      }\n    }\n    vnode.elm = elm\n    const { tag, data, children } = vnode\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.init)) i(vnode, true /* hydrating */)\n      if (isDef(i = vnode.componentInstance)) {\n        // child component. it should have hydrated its own tree.\n        initComponent(vnode, insertedVnodeQueue)\n        return true\n      }\n    }\n    if (isDef(tag)) {\n      if (isDef(children)) {\n        // empty element, allow client to pick up and populate children\n        if (!elm.hasChildNodes()) {\n          createChildren(vnode, children, insertedVnodeQueue)\n        } else {\n          let childrenMatch = true\n          let childNode = elm.firstChild\n          for (let i = 0; i < children.length; i++) {\n            if (!childNode || !hydrate(childNode, children[i], insertedVnodeQueue)) {\n              childrenMatch = false\n              break\n            }\n            childNode = childNode.nextSibling\n          }\n          // if childNode is not null, it means the actual childNodes list is\n          // longer than the virtual children list.\n          if (!childrenMatch || childNode) {\n            if (process.env.NODE_ENV !== 'production' &&\n                typeof console !== 'undefined' &&\n                !bailed) {\n              bailed = true\n              console.warn('Parent: ', elm)\n              console.warn('Mismatching childNodes vs. VNodes: ', elm.childNodes, children)\n            }\n            return false\n          }\n        }\n      }\n      if (isDef(data)) {\n        for (const key in data) {\n          if (!isRenderedModule(key)) {\n            invokeCreateHooks(vnode, insertedVnodeQueue)\n            break\n          }\n        }\n      }\n    } else if (elm.data !== vnode.text) {\n      elm.data = vnode.text\n    }\n    return true\n  }\n\n  function assertNodeMatch (node, vnode) {\n    if (vnode.tag) {\n      return (\n        vnode.tag.indexOf('vue-component') === 0 ||\n        vnode.tag.toLowerCase() === (node.tagName && node.tagName.toLowerCase())\n      )\n    } else {\n      return node.nodeType === (vnode.isComment ? 8 : 3)\n    }\n  }\n\n  return function patch (oldVnode, vnode, hydrating, removeOnly, parentElm, refElm) {\n    if (!vnode) {\n      if (oldVnode) invokeDestroyHook(oldVnode)\n      return\n    }\n\n    let isInitialPatch = false\n    const insertedVnodeQueue = []\n\n    if (!oldVnode) {\n      // empty mount (likely as component), create new root element\n      isInitialPatch = true\n      createElm(vnode, insertedVnodeQueue, parentElm, refElm)\n    } else {\n      const isRealElement = isDef(oldVnode.nodeType)\n      if (!isRealElement && sameVnode(oldVnode, vnode)) {\n        // patch existing root node\n        patchVnode(oldVnode, vnode, insertedVnodeQueue, removeOnly)\n      } else {\n        if (isRealElement) {\n          // mounting to a real element\n          // check if this is server-rendered content and if we can perform\n          // a successful hydration.\n          if (oldVnode.nodeType === 1 && oldVnode.hasAttribute('server-rendered')) {\n            oldVnode.removeAttribute('server-rendered')\n            hydrating = true\n          }\n          if (hydrating) {\n            if (hydrate(oldVnode, vnode, insertedVnodeQueue)) {\n              invokeInsertHook(vnode, insertedVnodeQueue, true)\n              return oldVnode\n            } else if (process.env.NODE_ENV !== 'production') {\n              warn(\n                'The client-side rendered virtual DOM tree is not matching ' +\n                'server-rendered content. This is likely caused by incorrect ' +\n                'HTML markup, for example nesting block-level elements inside ' +\n                '<p>, or missing <tbody>. Bailing hydration and performing ' +\n                'full client-side render.'\n              )\n            }\n          }\n          // either not server-rendered, or hydration failed.\n          // create an empty node and replace it\n          oldVnode = emptyNodeAt(oldVnode)\n        }\n        // replacing existing element\n        const oldElm = oldVnode.elm\n        const parentElm = nodeOps.parentNode(oldElm)\n        createElm(\n          vnode,\n          insertedVnodeQueue,\n          // extremely rare edge case: do not insert if old element is in a\n          // leaving transition. Only happens when combining transition +\n          // keep-alive + HOCs. (#4590)\n          oldElm._leaveCb ? null : parentElm,\n          nodeOps.nextSibling(oldElm)\n        )\n\n        if (vnode.parent) {\n          // component root element replaced.\n          // update parent placeholder node element, recursively\n          let ancestor = vnode.parent\n          while (ancestor) {\n            ancestor.elm = vnode.elm\n            ancestor = ancestor.parent\n          }\n          if (isPatchable(vnode)) {\n            for (let i = 0; i < cbs.create.length; ++i) {\n              cbs.create[i](emptyNode, vnode.parent)\n            }\n          }\n        }\n\n        if (parentElm !== null) {\n          removeVnodes(parentElm, [oldVnode], 0, 0)\n        } else if (isDef(oldVnode.tag)) {\n          invokeDestroyHook(oldVnode)\n        }\n      }\n    }\n\n    invokeInsertHook(vnode, insertedVnodeQueue, isInitialPatch)\n    return vnode.elm\n  }\n}\n"]}