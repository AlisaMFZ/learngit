{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["import Vue from \"vue\";\nimport config from \"../config/default.js\";\n\nvar vm;\n\nvm = new Vue({\n    el: '#app',\n    components: {},\n    data: {\n        tabsWidth:414,\n        showList_load:0,\n        pageSize:10,\n        pageNo:1,\n        isEnd:false,//是否到底\n        noData:false,//返回数据是否为空\n        rankingList:[],//列表\n        picList:[]//图片\n\n    },\n    mounted: function () {\n        this.tabsWidth = window.screen.width;\n        this.initFooterGradient();\n        this.initScrollX();\n        this.getList();\n    },\n    methods: {\n        getList: function () {\n            var url = config.apiHost + '/api/list';\n\n            var param = {\n                pageNo:this.pageNo,\n                pageSize:this.pageSize,\n            };\n\n            Vue.api.postForm(url, param, (result) => {\n                this.showList_load = this.showList_load + 1;\n                this.rankingList = this.rankingList.concat(result.data.list || []);\n                this.resizeImgHeight();\n                this.initScrollX();\n                if (this.showList_load == 1) {\n                    if (this.rankingList.length == 0) {\n                        this.noData = true;\n                    }\n                } else {\n                    if (this.rankingList.length == 0) {\n                        this.isEnd = true;\n                    }\n                }\n            }, (res) => {\n                //异常时处理\n            });\n        },\n        //初始化横向滚动\n        initScrollX: function () {\n            Vue.nextTick(function () {\n                $('.transverse').each(function (i, el) {\n                    new fz.Scroll(el, {\n                        scrollY: false,\n                        scrollX: true\n                    });\n                });\n            });\n        },\n        //底部滚动变色\n        initFooterGradient: function () {\n            setTimeout(function () {\n                var sh = window.screen.height;\n                if(document.body.scrollTop > sh) {\n                    $('.footerGradient').css('background', 'rgba(243, 243, 243, 0.5)');\n                }\n                $(window).scroll(function () {\n                    var scTop = document.body.scrollTop;\n                    if(scTop <= sh) {\n                        $('.footerGradient').css('background', 'rgba(243, 243, 243, 0.5)');\n\n                    }else {\n                        $('.footerGradient').css('background', 'rgba(255, 255, 255, '+ (scTop/sh-0.5) +')');\n                    }\n                });\n            }, 500);\n        },\n        //点击加载更多\n        load:function(){\n            if (!this.isEnd) {\n                this.pageNo += 1;\n                this.getList();\n            }\n        },\n        //重置宽高\n        resizeImgHeight: function () {\n            Vue.nextTick(\n                function(){\n                    var w = $('.prod-warp .prod-img >span').width()+30;\n                    $('.prod-warp .prod-img >span').height(w);\n                }\n            )\n        },\n    }\n});"]}